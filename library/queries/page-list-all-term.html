<!-- populate term -->
{{- $term_all := slice -}}{{- $list_all := slice -}} 
{{- $taxo_all := where .Site.Pages "Type" .Section -}}
{{- $page_all := where .Site.RegularPages "Type" .Section -}}

{{- range $taxo_all -}}
    {{- if eq .Page.Params.Module.Layout "term" -}}
        {{- $term_all = $term_all | append ( .Title | urlize ) -}}
    {{- end -}}
{{- end -}}

{{- $term_all = $term_all | uniq -}}

{{- range $term_all -}}
    {{- $term_now := slice . -}}
    {{- $page_tax := slice   -}}
    {{- range $page_all -}}
        {{- if collections.Intersect $term_now .Page.Params.terms -}}
            {{- $page_tax = $page_tax | append . -}}
        {{- end -}}
    {{- end -}}
   {{ $list_all = $list_all | append ( dict "name" . "page" $page_tax ) }}
{{- end -}}

{{- return $list_all -}}