<!-- 
    type  : list
    block : head   
-->


<!-- load section source -->
{{- $renders := printf "module/default/model/page/head.html" -}}
{{- $default := printf "themes/default/%s/head.html" ( trim .Page.RelPermalink "/" ) }}
{{- $theming := printf "themes/%s/%s/head.html" .Site.Params.Themes ( trim .Page.RelPermalink "/" ) }}


{{ if .Section }}

    {{- $section := printf "module/%s/default/model/page/head.html" .Section | printf "%s" -}}

    {{- if and ( .Page.Params.Paged ) ( .Page.Params.Model ) -}}

        {{- $parteds := printf "module/%s/%s/model/%s/head.html" .Section .Page.Params.Model .Page.Params.Paged  | printf "%s" -}}
        {{- with templates.Exists ( printf "partials/%s"  $parteds ) }}{{ $renders = $parteds }}{{- end -}}

    {{- else if .Page.Params.Model -}}

        {{- $parteds := printf "module/%s/%s/model/page/head.html" .Section .Page.Params.Model | printf "%s" -}}
        {{- with templates.Exists ( printf "partials/%s"  $parteds ) }}{{ $renders = $parteds }}{{- end -}}

    {{- else if .Page.Params.Paged -}}

        {{- $parteds := printf "module/%s/default/model/%s/head.html" .Section .Page.Params.Paged | printf "%s" -}}
        {{- with templates.Exists ( printf "partials/%s"  $parteds ) }}{{ $renders = $parteds }}{{- end -}}

    {{- else if templates.Exists ( printf "partials/%s"  $section )  -}}
        
        {{- $renders = $section -}}

    {{- end -}}

{{- else if and ( .IsHome ) ( .Site.Params.Themes ) -}}
  
    {{- $renders = printf "themes/%s/home/head.html" .Site.Params.Themes -}}

{{- else if .IsHome -}}

    {{- $renders = printf "module/default/model/home/head.html" -}}

{{- else if templates.Exists ( printf "partials/%s" $theming ) -}}

    {{- $renders = $theming -}}

{{- else if templates.Exists ( printf "partials/%s" $default ) -}}

    {{- $renders = $default -}}

{{- end -}}


<!-- compile head source -->
{{- partial "core/head/_init" . -}}