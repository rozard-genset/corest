<!-- globvar -->
{{- $themes := partial "lib/get-themes.html" . -}}
{{- $module := partial "lib/get-module.html" . -}}
{{- $layout := "main" -}}{{- with .Site.Params.System.Parted.Footer -}}{{- $layout  = . -}}{{- end -}}


<!-- storing -->
{{- $link_css := resources.Get "scripts/parted/footer/main/css/pack.scss" -}}
{{- $link_jsx := resources.Get "scripts/parted/footer/main/jsx/pack.jsx"  -}}


<!-- modeling -->
{{- $protos_model_css := printf "scripts/parted/footer/%s/css/pack.scss" $layout  -}}
{{- $protos_model_jsx := printf "scripts/parted/footer/%s/jsx/pack.js"   $layout  -}}

{{- $themes_based_css := printf "scripts/themes/%s/parted/footer/main/css/pack.scss" $themes -}}
{{- $themes_based_jsx := printf "scripts/themes/%s/parted/footer/main/jsx/pack.js"   $themes -}}

{{- $themes_model_css := printf "scripts/themes/%s/parted/footer/%s/css/pack.scss"  $themes $layout  -}}
{{- $themes_model_jsx := printf "scripts/themes/%s/parted/footer/%s/jsx/pack.js"    $themes $layout  -}}

{{- $module_based_css := printf "scripts/module/%s/footer/main/css/pack.scss" $module  -}}
{{- $module_based_jsx := printf "scripts/module/%s/footer/main/jsx/pack.js"   $module  -}}

{{- $module_model_css := printf "scripts/module/%s/footer/%s/css/pack.scss"  $module  $layout  -}}
{{- $module_model_jsx := printf "scripts/module/%s/footer/%s/jsx/pack.js"    $module  $layout  -}}


<!-- appended -->
{{- range ( slice $protos_model_css $themes_based_css $themes_model_css $module_based_css $module_model_css ) -}}
    {{- with resources.Get . -}}{{- $link_css = . -}}{{- end -}}
{{- end -}}

{{- range ( slice $protos_model_jsx $themes_based_jsx $themes_model_jsx $module_based_jsx $module_model_jsx ) -}}
    {{- with resources.Get . -}}{{- $link_jsx = . -}}{{- end -}}
{{- end -}}


<!-- register -->
{{- .Store.Add "pack_css" $link_css -}}
{{- .Store.Add "pack_jsx" $link_jsx -}}