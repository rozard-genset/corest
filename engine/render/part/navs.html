<!-- variable -->
{{- $render := "" -}}

{{- $theme := "default" -}}
{{- with .Site.Params.System.Themes -}}{{- $theme = ( . | urlize ) -}}{{- end -}}

{{- $model := "main" -}}
{{- with .Page.Params.Module.Layout -}}{{- $model = ( . | urlize ) -}}{{- end -}}

{{- $modul := "" -}}
{{- with .Section -}}{{- $modul = ( . | urlize ) -}}{{- end -}}

{{- $paged := partial "lib/type.html" . -}}


<!-- conditional -->
{{- $based_basic := printf "parted/header/main/render.html" -}}
{{- $based_model := printf "parted/header/%s/render.html" $model -}}


{{- $theme_based := printf "themes/default/parted/header/main/render.html" -}}
{{- $theme_basic := printf "themes/%s/parted/header/main/render.html" $theme -}}
{{- $theme_model := printf "themes/%s/parted/header/main/render.html" $theme $model -}}
{{- $theme_paged := printf "themes/%s/%s/%s/header.html" $theme $paged $model  -}} 


{{- $modul_based := printf "module/default/parted/header/main/render.html" $modul -}}
{{- $modul_basic := printf "module/%s/parted/header/main/render.html"      $modul -}}
{{- $modul_model := printf "module/%s/parted/header/%s/render.html"        $modul $model -}}
{{- $modul_paged := printf "module/%s/%s/%s/header.html"                   $modul $paged $model -}}


<!-- validation -->
{{ range ( slice $based_basic $based_model $theme_based $theme_basic $theme_model $theme_paged $modul_based $modul_basic $modul_model $modul_paged ) }}
    {{- if templates.Exists ( printf "partials/%s" . )  -}}
        {{- $render = . -}}
    {{- end -}}
{{ end }}

{{- if templates.Exists ( printf "partials/%s" $render )  -}}
    {{- partial $render . -}}
{{- end -}}