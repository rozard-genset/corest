<!-- render path vars -->
{{- $engine_css := "" -}}
{{- $engine_jsx := "" -}}
{{- $primer_css := "" -}}
{{- $primer_jsx := "" -}}
{{- $footer_css := "" -}}
{{- $footer_jsx := "" -}}

<!-- themes vars -->
{{- $vars_themes := "default" -}}
{{- with .Site.Params.Themes -}}{{- $vars_themes = . -}}{{- end -}}

<!-- footer vars -->
{{- $vars_footer := "core" -}}
{{- with .Site.Params.Render.footer -}}{{- $vars_footer = . -}}{{- end -}}

<!-- model vars -->
{{- $vars_models := "main" -}}
{{- with .Page.Params.Model -}}{{- $vars_footer = . -}}{{- end -}}



<!-- main scripts processing block -->
{{- $engine_css := "" -}}{{- $engine_jsx := "" -}}
{{- $theme_engine := printf "scripts/themes/%s/basics" $vars_themes -}}
{{- $falen_engine := printf "scripts/themes/default/basics" $vars_themes -}}

{{- range ( slice $falen_engine $theme_engine ) -}}

    {{- $css := printf "%s/pack.scss" . -}}
    {{- $jsx := printf "%s/pack.js" .   -}}
    {{- with resources.Get $css -}}{{- $engine_css = $css -}}{{- end -}}
    {{- with resources.Get $jsx -}}{{- $engine_jsx = $jsx -}}{{- end -}}

{{- end -}}{{- .Store.Set "engine_css" $engine_css -}}{{- .Store.Set "engine_jsx" $engine_jsx -}}



<!-- home scripts processing block -->
{{- $primer_css := "" -}}
{{- $primer_jsx := "" -}}
{{- $theme_path := printf "scripts/themes/%s/model/home/%s" $vars_themes $vars_models -}}
{{- $falen_path := printf "scripts/themes/default/model/home/main" -}}

{{- range ( slice $falen_path $theme_path ) -}}
    
    {{- $css := printf "%s/css/pack.scss" . -}}
    {{- $jsx := printf "%s/jsx/pack.js" .   -}}
    {{- with resources.Get $css -}}{{- $primer_css = $css -}}{{- end -}}
    {{- with resources.Get $jsx -}}{{- $primer_jsx = $jsx -}}{{- end -}}

{{- end -}}{{- .Store.Set "primer_css" $primer_css -}}{{- .Store.Set "primer_jsx" $primer_jsx -}}



<!-- parted scripts processing block -->
{{- $footer_css := "" -}}
{{- $footer_jsx := "" -}}
{{- $theme_footer := printf "scripts/parted/footer/%s" $vars_themes -}}
{{- $falen_footer := printf "scripts/parted/footer/core" -}}

{{- range ( slice $falen_footer $theme_footer ) -}}

    {{- $css := printf "%s/pack.scss" . -}}
    {{- $jsx := printf "%s/pack.js" .   -}}
    {{- with resources.Get $css -}}{{- $footer_css = . -}}{{- end -}}
    {{- with resources.Get $jsx -}}{{- $footer_jsx = . -}}{{- end -}}

{{- end -}}{{- .Store.Set "footer_css" $footer_css -}}{{- .Store.Set "footer_jsx" $footer_jsx -}}



<!-- block scripts processing block -->
{{- if .Page.Params.Block -}}
    {{- partial "lib/blocks/pack-css.html" . -}}
    {{- partial "lib/blocks/pack-jsx.html" . -}}
{{- end -}}



<!-- modul scripts processing block -->
{{- partial "bin/help/pcss.html" . -}}
{{- partial "bin/help/pjsx.html" . -}}