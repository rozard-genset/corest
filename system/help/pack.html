
<!-- styles -->
{{- $style_data := slice  -}}
{{- $style_dest := .Store.Get "dest_css" -}}

{{- range ( sort ( .Store.Get "pack_css" ) | uniq ) -}}
    {{- with resources.Get . -}}
        {{- $style_data = $style_data | append ( resources.Get . | toCSS ) -}}
    {{- end -}}
{{- end -}}

{{- $path := "" -}}{{- if hugo.IsDevelopment -}}
    {{- $path = $style_data | resources.Concat $style_dest -}}
{{- else -}}
    {{- $path = $style_data | resources.Concat $style_dest | minify  -}}
{{- end -}}

{{- with $path -}}<link id="styles" rel="stylesheet" href="{{ .RelPermalink }}">{{- end -}}




<!-- script -->
{{- $script_data := slice  -}}
{{- $script_dest := .Store.Get "dest_jsx" -}}
{{- $script_opts := dict "minify" (not hugo.IsDevelopment) "sourceMap" (cond hugo.IsDevelopment "external" "") "targetPath" $script_dest -}}

{{- range ( sort ( .Store.Get "pack_jsx" ) | uniq ) -}}
    {{- if resources.Get . -}}
        {{- $script_data = $script_data | append ( resources.Get . ) -}}
    {{- end -}}
{{- end -}}

{{- $path := "" -}}{{- if hugo.IsDevelopment -}}
    {{- $path = $script_data | resources.Concat $script_dest -}}
{{- else -}}
    {{- $path = $script_data | resources.Concat $script_dest | minify  -}}
{{- end -}}

{{- with $path | js.Build $script_opts -}}<script id="script" src="{{ .RelPermalink }}" crossorigin="anonymous" defer></script>{{- end -}}

