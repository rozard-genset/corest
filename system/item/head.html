<!-- render path vars -->
{{- $engine_css := "" -}}
{{- $engine_jsx := "" -}}
{{- $primer_css := "" -}}
{{- $primer_jsx := "" -}}
{{- $header_css := "" -}}
{{- $header_jsx := "" -}}


<!-- themes -->
{{- $vars_themes := "default" -}}
{{- with .Site.Params.Themes -}}{{- $vars_themes = . -}}{{- end -}}


<!-- header -->
{{- $vars_header := "core" -}}
{{- with .Site.Params.Render.Header -}}{{- $vars_header = . -}}{{- end -}}


<!-- model -->
{{- $vars_models := "main" -}}
{{- with .Page.Params.Model -}}{{- $vars_models = . -}}{{- end -}}




<!-- main scripts processing block -->
{{- $engine_css := "" -}}{{- $engine_jsx := "" -}}
{{- $theme_engine := printf "scripts/themes/%s/basics" $vars_themes -}}
{{- $falen_engine := printf "scripts/themes/default/basics" $vars_themes -}}

{{- range ( slice $falen_engine $theme_engine ) -}}

    {{- $css := printf "%s/head.scss" . -}}
    {{- $jsx := printf "%s/head.js" .   -}}
    {{- with resources.Get $css -}}{{- $engine_css = $css -}}{{- end -}}
    {{- with resources.Get $jsx -}}{{- $engine_jsx = $jsx -}}{{- end -}}

{{- end -}}{{- .Store.Set "engine_css" $engine_css -}}{{- .Store.Set "engine_jsx" $engine_jsx -}}




<!-- module scripts processing block -->
{{-  $primer_css := "" -}}{{-  $primer_jsx := "" -}}
{{- $falen_path := printf "scripts/themes/default/model/item/%s" $vars_models -}}
{{- $modul_path := printf "scripts/module/%s/item/%s" .Section $vars_models -}}
{{- $theme_path := printf "scripts/themes/%s/module/%s/item/%s" $vars_themes .Section $vars_models -}}


{{- range ( slice $falen_path $modul_path $theme_path ) -}}

    {{- $css := printf "%s/css/head.scss" . -}}
    {{- $jsx := printf "%s/jsx/head.js" .   -}}
    {{- with resources.Get $css -}}{{- $primer_css = $css -}}{{- end -}}
    {{- with resources.Get $jsx -}}{{- $primer_jsx = $jsx -}}{{- end -}}

{{- end -}}{{- .Store.Set "primer_css" $primer_css -}}{{- .Store.Set "primer_jsx" $primer_jsx -}}



<!-- parted scripts processing block -->
{{- $header_css := "" -}}{{- $header_jsx := "" -}}
{{- $theme_header := printf "scripts/themes/%s/parted/header/%s" $vars_themes $vars_header -}}
{{- $falen_header := printf "scripts/themes/default/parted/header/core" -}}

{{- range ( slice $falen_header $theme_header ) -}}

    {{- $css := printf "%s/head.scss" . -}}
    {{- $jsx := printf "%s/head.js" .   -}}
    {{- with resources.Get $css -}}{{- $header_css = . -}}{{- end -}}
    {{- with resources.Get $jsx -}}{{- $header_jsx = . -}}{{- end -}}

{{- end -}}{{- .Store.Set "header_css" $header_css -}}{{- .Store.Set "header_jsx" $header_jsx -}}




<!-- compiler scripts processing block -->
{{- partial "lib/modul/head-css.html" . -}}
{{- partial "lib/modul/head-jsx.html" . -}}